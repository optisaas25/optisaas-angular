<div class="modal-header">
    <h2 mat-dialog-title>
        <mat-icon>camera_alt</mat-icon>
        Centrage Virtuel - Mesure Automatique
    </h2>
    <button mat-icon-button (click)="cancel()" class="close-btn">
        <mat-icon>close</mat-icon>
    </button>
</div>

<mat-dialog-content>
    <div class="instructions">
        @if (!isCaptured) {
        <p>ğŸ“¸ Positionnez-vous face Ã  la camÃ©ra Ã  environ 40-50 cm</p>
        <p>ğŸ‘“ Portez vos lunettes si vous mesurez avec monture</p>
        <p>ğŸ’¡ Assurez-vous d'avoir un bon Ã©clairage</p>
        } @else {
        <p class="adjust-instruction">âœ‹ <b>Mode Ã‰dition:</b> Ajustez les lignes oranges (Largeur) et bleues (Hauteur)
        </p>
        <p class="adjust-instruction">âœ… Validez une fois que les lignes sont parfaitement alignÃ©es.</p>
        }
    </div>

    <app-camera-view [caliber]="caliber" [bridge]="bridge" [mountingType]="mountingType"
        (measurementChange)="onMeasurementChange($event)">
    </app-camera-view>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="cancel()">Annuler</button>

    @if (!isCaptured) {
    <button mat-raised-button color="primary" (click)="captureMeasurement()" [disabled]="!currentMeasurement">
        ğŸ“· Capturer
    </button>
    } @else {
    <button mat-stroked-button color="warn" (click)="retakeMeasurement()">
        ğŸ”„ Reprendre
    </button>
    <button mat-raised-button color="accent" (click)="validateMeasurement()">
        âœ“ Valider les Mesures
    </button>
    }
</mat-dialog-actions>